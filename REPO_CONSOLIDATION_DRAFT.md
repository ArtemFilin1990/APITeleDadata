# Черновик аудита репозиториев (Repo Curator)

## Статус

Не могу начать шаг **A. СБОР ФАКТОВ (UI)**, пока не предоставлены обязательные входные данные:
- платформа (GitHub/GitLab);
- владелец (`org/user` или ссылка на страницу владельца);
- уровень доступа (admin/maintain/read);
- ограничения по архитектуре (monorepo разрешён/запрещён, нужно ли сохранять отдельные релизы);
- приоритет (минимизировать поддержку / сохранить историю / ускорить релизы).

До получения этих данных **никакие destructive-действия не выполняются**.

---

## 1) Таблица «Кластеры» (шаблон)

| Cluster name | Repos | Decision | Main repo | Why | Risk |
|---|---|---|---|---|---|
| _TBD_ | _TBD_ | _TBD_ | _TBD_ | _TBD_ | _TBD_ |

## 2) Таблица «Дубли/конфликты» (шаблон)

| Repo A | Repo B | Overlap reason | Evidence (файлы/README) | Recommendation |
|---|---|---|---|---|
| _TBD_ | _TBD_ | _TBD_ | _TBD_ | _TBD_ |

## 3) План действий (предварительный шаблон)

### NOW (сделать сегодня)
1. Подтвердить входные данные (platform/owner/access/constraints/priority).
2. Открыть страницу владельца с репозиториями в UI и собрать первичную матрицу по всем репозиториям.
3. Выделить кластеры по смыслу и кандидатов в `MERGE/KEEP SEPARATE/ARCHIVE/RENAME`.

### NEXT (после)
1. Для каждого кластера с `MERGE` подготовить 2 сценария:
   - monorepo (`/apps`, `/services`, `/libs`, `/docs`);
   - multirepo + shared libs.
2. Добавить миграционный runbook:
   - сохранение истории (`git subtree`, `git filter-repo`, `submodule`);
   - перенос CI/CD и ссылок;
   - rollback-план и smoke-checklist.

### IGNORE (не трогать)
- Любые изменения visibility/owners/secrets/permissions.
- Архивирование, удаление, transfer ownership — до явного подтверждения.

## 4) Критичные вопросы (макс. 5)
1. Какая платформа используется: **GitHub** или **GitLab**?
2. Укажите владельца (ссылку вида `https://github.com/<org_or_user>` или `https://gitlab.com/<group_or_user>`).
3. Какие права у меня предполагаются для анализа: read-only / maintain / admin?
4. Допустим ли целевой **monorepo**, или нужно сохранить раздельные релизные циклы?
5. Что приоритетнее в конфликтных случаях: минимизация поддержки, сохранение полной истории, или скорость релизов?

---

## ASSUMPTIONS
- Принят безопасный обратимый вариант: подготовлен только документ-шаблон без изменений кода и настроек платформы.
- Проверка/откат: удалить файл `REPO_CONSOLIDATION_DRAFT.md` одним коммитом, если формат не нужен.
